@model Shop.Models.Product

@{
    ViewData["Title"] = "Details";
}

<main>
    <!-- breadcrumb area start -->
    <div class="breadcrumb-area">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="breadcrumb-wrap">
                        <nav aria-label="breadcrumb">
                            <ul class="breadcrumb">
                                <li class="breadcrumb-item"><a href="/Home"><i class="fa fa-home"></i></a></li>
                                <li class="breadcrumb-item"><a href="/Products">Products</a></li>
                                <li class="breadcrumb-item active" aria-current="page">@Model.ProductName</li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- breadcrumb area end -->
    <!-- page main wrapper start -->
    <div class="shop-main-wrapper section-padding pb-0">
        <div class="container">
            <div class="row">
                <!-- product details wrapper start -->
                <div class="col-lg-12 order-1 order-lg-2">
                    <!-- product details inner end -->
                    <div class="product-details-inner">
                        <div class="row">
                            <div class="col-lg-5">
                                @{
                                    string[] arrListStr = Model.ProductImage.Split(" ");
                                }
                                <div class="product-large-slider">
                                    @for (int i = 0; i < arrListStr.Length - 1; i++)
                                    {
                                        <div class="pro-large-img img-zoom">
                                            <img src="https://localhost:44347/images/@arrListStr[i]" alt="product-details" />
                                        </div>
                                    }
                                </div>
                                <div class="pro-nav slick-row-10 slick-arrow-style">
                                    @for (int i = 0; i < arrListStr.Length - 1; i++)
                                    {
                                        <div class="pro-nav-thumb">
                                            <img src="https://localhost:44347/images/@arrListStr[i]" alt="product-details" />
                                        </div>
                                    }
                                </div>
                            </div>
                            <div class="col-lg-7">
                                <div class="product-details-des">
                                    <h3 class="product-name">@Model.ProductName</h3>
                                    <div class="price-box">
                                        <span class="price-regular" style="font-size:2rem">$@Model.OutPrice.ToString("#,##0.#")</span>
                                    </div>
                                    <div class="availability">
                                        <i class="fa fa-check-circle"></i>
                                        @if (Model.ProductQuantity <= 0)
                                        {
                                            <span>Sold Out</span>
                                        }
                                        else
                                        {
                                            <span>@Model.ProductQuantity in stock</span>
                                        }
                                    </div>
                                    <div class="pro-desc">
                                        <ul>
                                            <li>
                                                <p>No:</p>
                                                <div>@Model.ProductCode</div>
                                            </li>
                                            <li>
                                                <p>Brand:</p>
                                                <div>@Model.ProductBrandNavigation.Tilte</div>
                                            </li>
                                            <li>
                                                <p>Color:</p>
                                                <div>@Model.ProductColorNavigation.Title</div>
                                            </li>
                                            <li>
                                                <p>State:</p>
                                                <div>@Model.ProductSizeNavigation.Title</div>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="quantity-cart-box d-flex align-items-center">


                                        <div class="action_link">
                                            <a class="btn btn-cart2" asp-controller="AddOrder" asp-action="AddtoCart" asp-route-id="@Model.Id">Add to Cart</a>
                                        </div>
                                    </div>


                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- product details inner end -->
                    <!-- product details reviews start -->
                    <div class="product-details-reviews section-padding pb-0">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="product-review-info">
                                    <ul class="nav review-tab">
                                        <li>
                                            <a class="active" data-toggle="tab" href="#tab_one">Description</a>
                                        </li>
                                        <li>
                                            <a data-toggle="tab" href="#tab_two">Specifications</a>
                                        </li>

                                    </ul>
                                    <div class="tab-content reviews-tab">
                                        <div class="tab-pane fade show active" id="tab_one">
                                            @Html.Raw(@Model.ProductDescription)
                                        </div>
                                        <div class="tab-pane fade" id="tab_two">
                                            <div class="product-specs">
                                                @Html.Raw(@Model.ProductSpec)
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- product details reviews end -->
                </div>
                <!-- product details wrapper end -->
            </div>
        </div>
    </div>
    <!-- page main wrapper end -->
    <!-- related products area start -->
    <!-- related products area end -->
</main>

<!-- offcanvas mini cart start -->
<div class="offcanvas-minicart-wrapper">
    <div class="minicart-inner">
        <div class="offcanvas-overlay"></div>
        <div class="minicart-inner-content">
            <div class="minicart-close">
                <i class="pe-7s-close"></i>
            </div>
            <div class="minicart-content-box">
                <div class="minicart-item-wrapper">
                    @{
                        Double totlalprice = 0;
                        IEnumerable<OrderDetail> orderderail = ViewData["orderdeatail"] as IEnumerable<OrderDetail>;
                        if (orderderail == null)
                        {
                                @*<li class="minicart-item">

                    </li>*@
                        }
                        else
                        {
                                @foreach (OrderDetail ord in orderderail)
                            {
                                totlalprice += Convert.ToDouble(ord.Price * ord.Quantity);
                                    <li class="minicart-item">
                                        <div class="minicart-thumb">
                                            @{
                                            string[] arrListStr1 = ord.Product.ProductImage.Split(' ');
                                            }
                                            <a href="product-details.html">
                                                <img src="https://localhost:44347/images/@arrListStr1[0]" alt="product">
                                            </a>
                                        </div>
                                        <div class="minicart-content">
                                            <h6 class="product-name">
                                                <a href="/Products/Details/@ord.Product.Id">@ord.Product.ProductName</a>
                                            </h6>
                                            <p>
                                                <span class="cart-quantity">@ord.Quantity<strong>&times;</strong></span>
                                                <span class="cart-price">$@ord.Price</span>
                                            </p>
                                        </div>
                                        <a href="/AddOrder/Delete/@ord.Id" class="minicart-remove"><i class="pe-7s-close"></i></a>
                                    </li>
                            }
                        }
                    }
                </div>

                <div class="minicart-pricing-box">
                    <ul>
                        <li class="total">
                            <span>total</span>
                            <span><strong>$@totlalprice</strong></span>
                        </li>
                    </ul>
                </div>

                <div class="minicart-button">
                    <a href="/OrderDetails"><i class="fa fa-shopping-cart"></i> View Cart</a>
                </div>
            </div>
        </div>
    </div>
</div>


<style>
    .pro-desc > ul {
        list-style: none;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
    }

        .pro-desc > ul > li {
            list-style: none;
            display: flex;
            flex-direction: row;
            padding: 1rem;
        }

            .pro-desc > ul > li:nth-child(odd) {
                background-color: #f5f5f5;
            }

            .pro-desc > ul > li > :first-child {
                flex-basis: 150px;
                flex-shrink: 0;
                margin: 0;
            }

    .product-specs > ul {
        list-style: none;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
    }

        .product-specs > ul > li {
            list-style: none;
            display: flex;
            flex-direction: row;
            padding: 1rem;
        }

            .product-specs > ul > li:nth-child(odd) {
                background-color: #f5f5f5;
            }

            .product-specs > ul > li > :first-child {
                flex-basis: 280px;
                flex-shrink: 0;
                margin: 0;
            }
</style>